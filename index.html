<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Contas a Pagar e Receber</title>
    <link rel="stylesheet" href="style.css">

    <!-- Bibliotecas CSS -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.17/index.global.min.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>
    <!-- Header com título e alternador de tema -->
    <header class="header">
        <div class="header-content">
            <h1>💰 Contas a Pagar e Receber</h1>
            <div class="theme-switcher">
                <button id="theme-toggle" class="theme-btn" title="Alternar tema">
                    <span class="theme-icon">🌙</span>
                    <span class="theme-text">Escuro</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Container principal -->
    <main class="main-container">
        <!-- Sistema de Tabs -->
        <nav class="tabs-nav">
            <button class="tab-btn active" data-tab="dashboard">📊 Dashboard</button>
            <button class="tab-btn" data-tab="contas-pagar">💸 Contas a Pagar</button>
            <button class="tab-btn" data-tab="contas-receber">💰 Contas a Receber</button>
            <button class="tab-btn" data-tab="consolidados">📈 Consolidados</button>
            <button class="tab-btn" data-tab="agenda">🗓️ Agenda</button>
            <button class="tab-btn" data-tab="logs">📝 Logs</button>
            <button class="tab-btn" data-tab="arquivos">📁 Arquivos</button> <!-- Nova aba -->
        </nav>

        <!-- Conteúdo das Tabs -->
        <div class="tab-content">
            <!-- Dashboard -->
            <div id="dashboard" class="tab-panel active">
                <div class="panel-header">
                    <h2>📊 Dashboard</h2>
                    <p>Visão geral do sistema financeiro</p>
                </div>

                <div class="dashboard-cards">
                    <div class="card card-red">
                        <div class="card-icon">💸</div>
                        <div class="card-content">
                            <h3>A Pagar (Mês)</h3>
                            <div class="card-value" id="total-pagar">R$ 0,00</div>
                            <small id="vencidas-pagar">0 vencidas</small>
                        </div>
                    </div>

                    <div class="card card-green">
                        <div class="card-icon">💰</div>
                        <div class="card-content">
                            <h3>A Receber (Mês)</h3>
                            <div class="card-value" id="total-receber">R$ 0,00</div>
                            <small id="vencidas-receber">0 vencidas</small>
                        </div>
                    </div>

                    <div class="card card-blue">
                        <div class="card-icon">📊</div>
                        <div class="card-content">
                            <h3>Saldo Projetado</h3>
                            <div class="card-value" id="saldo-projetado">R$ 0,00</div>
                            <small>Baseado no mês atual</small>
                        </div>
                    </div>

                    <div class="card card-orange">
                        <div class="card-icon">⚠️</div>
                        <div class="card-content">
                            <h3>Alertas</h3>
                            <div class="card-value" id="total-alertas">0</div>
                            <small>Contas vencidas</small>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>📈 Fluxo de Caixa - Últimos 6 Meses</h3>
                        <div id="chart-fluxo-dashboard"></div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>🥧 Distribuição de Gastos por Categoria</h3>
                        <div id="chart-categorias-dashboard"></div>
                    </div>
                </div>

                <!-- Seção de Resumo Executivo -->
                <div class="dashboard-summary">
                    <div class="summary-card">
                        <h3>💼 Resumo Executivo</h3>
                        <div class="summary-content">
                            <div class="summary-item">
                                <span class="summary-label">📊 Crescimento vs Mês Anterior:</span>
                                <span class="summary-value positive">+12.5%</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">💰 Ticket Médio Recebimento:</span>
                                <span class="summary-value">R$ 2.847,00</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">⚡ Maior Categoria de Gasto:</span>
                                <span class="summary-value">Fornecedores (35%)</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">📈 Tendência:</span>
                                <span class="summary-value positive">Crescimento Sustentável</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contas a Pagar -->
            <div id="contas-pagar" class="tab-panel">
                <div class="panel-header">
                    <h2>💸 Contas a Pagar</h2>
                    <div class="panel-actions">
                        <button class="btn btn-primary" id="nova-conta-pagar">+ Nova Conta</button>
                    </div>
                </div>

                <div class="filters">
                    <input type="text" id="filtro-pagar" placeholder="Buscar por descrição ou fornecedor...">
                    <select id="status-pagar">
                        <option value="">Todos os status</option>
                        <option value="pendente">Pendente</option>
                        <option value="pago">Pago</option>
                        <option value="atrasado">Atrasado</option>
                    </select>
                    <input type="date" id="data-inicio-pagar">
                    <input type="date" id="data-fim-pagar">
                </div>

                <div class="table-container">
                    <table class="data-table" id="tabela-contas-pagar">
                        <thead>
                            <tr>
                                <th>Descrição</th>
                                <th>Fornecedor</th>
                                <th>Categoria</th>
                                <th>Valor</th>
                                <th>Vencimento</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Dados serão carregados dinamicamente -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Contas a Receber -->
            <div id="contas-receber" class="tab-panel">
                <div class="panel-header">
                    <h2>💰 Contas a Receber</h2>
                    <div class="panel-actions">
                        <button class="btn btn-primary" id="nova-conta-receber">+ Nova Conta</button>
                    </div>
                </div>

                <div class="filters">
                    <input type="text" id="filtro-receber" placeholder="Buscar por descrição ou cliente...">
                    <select id="status-receber">
                        <option value="">Todos os status</option>
                        <option value="pendente">Pendente</option>
                        <option value="recebido">Recebido</option>
                        <option value="atrasado">Atrasado</option>
                    </select>
                    <input type="date" id="data-inicio-receber">
                    <input type="date" id="data-fim-receber">
                </div>

                <div class="table-container">
                    <table class="data-table" id="tabela-contas-receber">
                        <thead>
                            <tr>
                                <th>Descrição</th>
                                <th>Cliente</th>
                                <th>Categoria</th>
                                <th>Valor</th>
                                <th>Vencimento</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Dados serão carregados dinamicamente -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Consolidados -->
            <div id="consolidados" class="tab-panel">
                <div class="panel-header">
                    <h2>📈 Consolidados</h2>
                    <p>Relatórios consolidados e análise financeira</p>
                </div>

                <!-- Filtros de Período -->
                <div class="consolidados-filters">
                    <div class="filters">
                        <select id="filtro-periodo">
                            <option value="mes-atual">Mês Atual</option>
                            <option value="mes-anterior">Mês Anterior</option>
                            <option value="trimestre">Último Trimestre</option>
                            <option value="semestre">Último Semestre</option>
                            <option value="ano">Ano Atual</option>
                            <option value="personalizado">Período Personalizado</option>
                        </select>
                        <input type="date" id="data-inicio-consolidado" style="display: none;">
                        <input type="date" id="data-fim-consolidado" style="display: none;">
                        <button class="btn btn-primary" id="aplicar-filtros">📊 Atualizar</button>
                    </div>
                </div>

                <!-- Cards Resumo Executivo -->
                <div class="consolidados-cards">
                    <div class="card card-blue">
                        <div class="card-icon">💰</div>
                        <div class="card-content">
                            <h3>Total Entradas</h3>
                            <div class="card-value" id="total-entradas-consolidado">R$ 0,00</div>
                            <small id="variacao-entradas">+0% vs período anterior</small>
                        </div>
                    </div>

                    <div class="card card-red">
                        <div class="card-icon">💸</div>
                        <div class="card-content">
                            <h3>Total Saídas</h3>
                            <div class="card-value" id="total-saidas-consolidado">R$ 0,00</div>
                            <small id="variacao-saidas">+0% vs período anterior</small>
                        </div>
                    </div>

                    <div class="card card-green">
                        <div class="card-icon">📊</div>
                        <div class="card-content">
                            <h3>Saldo Líquido</h3>
                            <div class="card-value" id="saldo-liquido-consolidado">R$ 0,00</div>
                            <small id="variacao-saldo">+0% vs período anterior</small>
                        </div>
                    </div>

                    <div class="card card-orange">
                        <div class="card-icon">📈</div>
                        <div class="card-content">
                            <h3>Margem Líquida</h3>
                            <div class="card-value" id="margem-liquida">0%</div>
                            <small>Saldo / Entradas</small>
                        </div>
                    </div>
                </div>

                <!-- Gráficos -->
                <div class="consolidados-charts">
                    <div class="chart-container">
                        <h3>📈 Fluxo de Caixa - Evolução Mensal</h3>
                        <div id="chart-fluxo-caixa"></div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>🥧 Distribuição por Categorias</h3>
                        <div id="chart-categorias"></div>
                    </div>
                </div>

                <!-- Análises Detalhadas -->
                <div class="consolidados-analises">
                    <div class="analise-container">
                        <h3>📋 Top 5 Fornecedores (Gastos)</h3>
                        <div class="ranking-list" id="ranking-fornecedores">
                            <!-- Dados carregados dinamicamente -->
                        </div>
                    </div>

                    <div class="analise-container">
                        <h3>💰 Top 5 Clientes (Receitas)</h3>
                        <div class="ranking-list" id="ranking-clientes">
                            <!-- Dados carregados dinamicamente -->
                        </div>
                    </div>
                </div>

                <!-- Comparativo Temporal -->
                <div class="consolidados-comparativo">
                    <div class="chart-container">
                        <h3>📊 Comparativo Mensal - Entradas vs Saídas</h3>
                        <div id="chart-comparativo-mensal"></div>
                    </div>
                </div>

                <!-- FASE 2: Análises Avançadas -->
                <div class="consolidados-analises-avancadas">
                    <div class="analise-container">
                        <h3>📈 Análise Temporal Comparativa</h3>
                        <div id="analise-comparativo-anual">
                            <!-- Dados carregados dinamicamente -->
                        </div>
                    </div>

                    <div class="analise-container">
                        <h3>🔮 Tendências e Projeções</h3>
                        <div id="analise-tendencias">
                            <!-- Dados carregados dinamicamente -->
                        </div>
                    </div>
                </div>

                <div class="consolidados-sazonalidade">
                    <div class="analise-container">
                        <h3>🌊 Análise de Sazonalidade</h3>
                        <div id="analise-sazonalidade">
                            <!-- Dados carregados dinamicamente -->
                        </div>
                    </div>
                </div>

                <!-- FASE 3: Orçamento vs Realizado -->
                <!-- Container será criado dinamicamente -->

                <!-- FASE 3: Fluxo de Caixa Inteligente -->
                <!-- Container será criado dinamicamente -->

                <!-- FASE 3: Análise Preditiva de Inadimplência -->
                <!-- Container será criado dinamicamente -->

                <!-- FASE 2: Exportação de Relatórios -->
                <div class="consolidados-exportacao">
                    <div class="analise-container">
                        <h3>📄 Exportar Relatórios</h3>
                        <div class="exportacao-opcoes">
                            <div class="export-group">
                                <h4>📊 Relatório Consolidado</h4>
                                <div class="export-buttons">
                                    <button class="btn btn-primary btn-export" data-formato="pdf" data-tipo="consolidado">
                                        📑 PDF
                                    </button>
                                    <button class="btn btn-success btn-export" data-formato="excel" data-tipo="consolidado">
                                        📊 Excel
                                    </button>
                                    <button class="btn btn-secondary btn-export" data-formato="csv" data-tipo="consolidado">
                                        📋 CSV
                                    </button>
                                </div>
                            </div>

                            <div class="export-group">
                                <h4>🏢 Relatório de Fornecedores</h4>
                                <div class="export-buttons">
                                    <button class="btn btn-primary btn-export" data-formato="pdf" data-tipo="fornecedores">
                                        📑 PDF
                                    </button>
                                    <button class="btn btn-success btn-export" data-formato="excel" data-tipo="fornecedores">
                                        📊 Excel
                                    </button>
                                    <button class="btn btn-secondary btn-export" data-formato="csv" data-tipo="fornecedores">
                                        📋 CSV
                                    </button>
                                </div>
                            </div>

                            <div class="export-group">
                                <h4>👥 Relatório de Clientes</h4>
                                <div class="export-buttons">
                                    <button class="btn btn-primary btn-export" data-formato="pdf" data-tipo="clientes">
                                        📑 PDF
                                    </button>
                                    <button class="btn btn-success btn-export" data-formato="excel" data-tipo="clientes">
                                        📊 Excel
                                    </button>
                                    <button class="btn btn-secondary btn-export" data-formato="csv" data-tipo="clientes">
                                        📋 CSV
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agenda -->
            <div id="agenda" class="tab-panel">
                <div class="panel-header">
                    <h2>🗓️ Agenda</h2>
                    <p>Sistema completo de gestão de tempo e compromissos financeiros</p>
                    <div class="panel-actions">
                        <button class="btn btn-primary" id="novo-evento">+ Novo Evento</button>
                        <button class="btn btn-secondary" id="sincronizar-vencimentos">🔄 Sincronizar Vencimentos</button>
                    </div>
                </div>

                <div class="agenda-container">
                    <!-- Painel Lateral Esquerdo -->
                    <div class="agenda-sidebar">
                        <div class="sidebar-section">
                            <h4>📌 Predefinições</h4>
                            <div class="predefinicoes-list">
                                <div class="predefinicao-item" draggable="true" data-tipo="vencimento-pagar">
                                    <div class="predefinicao-icon">💸</div>
                                    <div class="predefinicao-info">
                                        <strong>Vencimento a Pagar</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="vencimento-receber">
                                    <div class="predefinicao-icon">💰</div>
                                    <div class="predefinicao-info">
                                        <strong>Vencimento a Receber</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="reuniao-cliente">
                                    <div class="predefinicao-icon">🤝</div>
                                    <div class="predefinicao-info">
                                        <strong>Reunião com Cliente</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="cobranca">
                                    <div class="predefinicao-icon">📞</div>
                                    <div class="predefinicao-info">
                                        <strong>Cobrança</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="revisao-fluxo">
                                    <div class="predefinicao-icon">📊</div>
                                    <div class="predefinicao-info">
                                        <strong>Revisão de Fluxo</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="negociacao">
                                    <div class="predefinicao-icon">🎯</div>
                                    <div class="predefinicao-info">
                                        <strong>Negociação</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="reuniao-interna">
                                    <div class="predefinicao-icon">👥</div>
                                    <div class="predefinicao-info">
                                        <strong>Reunião Interna</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                                
                                <div class="predefinicao-item" draggable="true" data-tipo="lembrete">
                                    <div class="predefinicao-icon">⏰</div>
                                    <div class="predefinicao-info">
                                        <strong>Lembrete</strong>
                                        <small>Arraste para agendar</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="sidebar-section">
                            <h4>📋 Ações Rápidas</h4>
                            <div class="acoes-rapidas">
                                <button class="btn btn-sm btn-primary" id="agendar-vencimentos-semana">
                                    📅 Vencimentos da Semana
                                </button>
                                <button class="btn btn-sm btn-secondary" id="agendar-cobrancas-atraso">
                                    📞 Cobranças em Atraso
                                </button>
                                <button class="btn btn-sm btn-success" id="agendar-followup-clientes">
                                    🤝 Follow-up Clientes
                                </button>
                                <button class="btn btn-sm btn-warning" id="lembretes-importantes">
                                    ⚡ Lembretes Importantes
                                </button>
                            </div>
                        </div>

                        <div class="sidebar-section">
                            <h4>🎯 Próximos Eventos</h4>
                            <div class="proximos-eventos" id="proximos-eventos-lista">
                                <!-- Carregado dinamicamente -->
                            </div>
                        </div>

                        <div class="sidebar-section">
                            <h4>📊 Estatísticas</h4>
                            <div class="agenda-stats">
                                <div class="stat-item">
                                    <span>Hoje:</span>
                                    <strong id="eventos-hoje">0</strong>
                                </div>
                                <div class="stat-item">
                                    <span>Semana:</span>
                                    <strong id="eventos-semana">0</strong>
                                </div>
                                <div class="stat-item">
                                    <span>Vencimentos:</span>
                                    <strong id="vencimentos-proximos">0</strong>
                                </div>
                                <div class="stat-item">
                                    <span>Atrasados:</span>
                                    <strong id="eventos-atrasados">0</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Calendário Principal -->
                    <div class="agenda-calendar">
                        <div class="calendar-toolbar">
                            <div class="calendar-filters">
                                <select id="filtro-tipo-evento">
                                    <option value="">Todos os tipos</option>
                                    <option value="vencimento">Vencimentos</option>
                                    <option value="reuniao">Reuniões</option>
                                    <option value="cobranca">Cobranças</option>
                                    <option value="lembrete">Lembretes</option>
                                </select>
                                
                                <select id="filtro-prioridade">
                                    <option value="">Todas as prioridades</option>
                                    <option value="alta">Alta Prioridade</option>
                                    <option value="media">Média Prioridade</option>
                                    <option value="baixa">Baixa Prioridade</option>
                                </select>
                                
                                <button class="btn btn-sm btn-secondary" id="limpar-filtros">
                                    🔄 Limpar Filtros
                                </button>
                            </div>
                            
                            <div class="calendar-views">
                                <button class="btn btn-sm" data-view="dayGridMonth">Mês</button>
                                <button class="btn btn-sm" data-view="timeGridWeek">Semana</button>
                                <button class="btn btn-sm" data-view="timeGridDay">Dia</button>
                                <button class="btn btn-sm" data-view="listWeek">Lista</button>
                            </div>
                        </div>
                        
                        <div id="calendar-agenda"></div>
                    </div>
                </div>

                <!-- Notificações da Agenda -->
                <div class="agenda-notifications" id="agenda-notifications">
                    <!-- Notificações aparecerão aqui -->
                </div>
            </div>

            <!-- Logs -->
            <div id="logs" class="tab-panel">
                <div class="panel-header">
                    <h2>📝 Logs do Sistema</h2>
                    <p>Histórico de operações e auditoria completa</p>
                    <div class="panel-actions">
                        <button class="btn btn-secondary" id="export-logs">📄 Exportar Logs</button>
                        <button class="btn btn-danger" id="clear-logs">🗑️ Limpar Histórico</button>
                    </div>
                </div>

                <!-- Filtros dos Logs -->
                <div class="logs-filters">
                    <div class="filters">
                        <input type="date" id="filtro-data-inicio-logs" placeholder="Data início">
                        <input type="date" id="filtro-data-fim-logs" placeholder="Data fim">
                        
                        <select id="filtro-tipo-logs">
                            <option value="">Todos os tipos</option>
                            <option value="create">📝 Criação</option>
                            <option value="update">✏️ Edição</option>
                            <option value="delete">🗑️ Exclusão</option>
                            <option value="payment">💰 Pagamento</option>
                            <option value="receive">💸 Recebimento</option>
                            <option value="login">🔑 Login</option>
                            <option value="export">📄 Exportação</option>
                            <option value="import">📥 Importação</option>
                            <option value="system">⚙️ Sistema</option>
                        </select>
                        
                        <select id="filtro-modulo-logs">
                            <option value="">Todos os módulos</option>
                            <option value="dashboard">📊 Dashboard</option>
                            <option value="contas-pagar">💸 Contas a Pagar</option>
                            <option value="contas-receber">💰 Contas a Receber</option>
                            <option value="consolidados">📈 Consolidados</option>
                            <option value="agenda">🗓️ Agenda</option>
                            <option value="arquivos">📁 Arquivos</option>
                        </select>
                        
                        <input type="text" id="filtro-busca-logs" placeholder="🔍 Buscar por descrição...">
                        
                        <button class="btn btn-primary" id="aplicar-filtros-logs">🔍 Filtrar</button>
                        <button class="btn btn-secondary" id="limpar-filtros-logs">🔄 Limpar</button>
                    </div>
                </div>

                <!-- Lista de Logs -->
                <div class="logs-container">
                    <div class="logs-list" id="logs-list">
                        <!-- Logs serão carregados dinamicamente -->
                    </div>
                    
                    <!-- Paginação -->
                    <div class="logs-pagination">
                        <div class="pagination-info">
                            <span id="logs-info">Mostrando 0-0 de 0 registros</span>
                        </div>
                        <div class="pagination-controls">
                            <button class="btn btn-sm btn-secondary" id="logs-anterior" disabled>← Anterior</button>
                            <span class="pagination-pages" id="logs-pages">
                                <!-- Páginas serão geradas dinamicamente -->
                            </span>
                            <button class="btn btn-sm btn-secondary" id="logs-proximo">Próximo →</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Arquivos -->
            <div id="arquivos" class="tab-panel">
                <div class="panel-header">
                    <h2>📁 Arquivos</h2>
                    <p>Gerenciamento de documentos</p>
                </div>
                <div class="coming-soon">
                    <h3>🚧 Em desenvolvimento</h3>
                    <p>Esta funcionalidade será implementada em breve</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para novo evento -->
    <div id="modal-novo-evento" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-evento-title">Novo Evento</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="form-novo-evento" class="modal-body">
                <div class="form-group">
                    <label for="evento-titulo">Título*</label>
                    <input type="text" id="evento-titulo" required>
                </div>

                <div class="form-group">
                    <label for="evento-tipo">Tipo*</label>
                    <select id="evento-tipo" required>
                        <option value="">Selecione o tipo</option>
                        <option value="vencimento-pagar">Vencimento a Pagar</option>
                        <option value="vencimento-receber">Vencimento a Receber</option>
                        <option value="reuniao-cliente">Reunião com Cliente</option>
                        <option value="cobranca">Cobrança</option>
                        <option value="revisao-fluxo">Revisão de Fluxo</option>
                        <option value="negociacao">Negociação</option>
                        <option value="reuniao-interna">Reunião Interna</option>
                        <option value="lembrete">Lembrete</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="evento-data">Data*</label>
                        <input type="date" id="evento-data" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="evento-hora">Hora*</label>
                        <input type="time" id="evento-hora" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="evento-duracao">Duração (minutos)</label>
                    <select id="evento-duracao">
                        <option value="15">15 minutos</option>
                        <option value="30" selected>30 minutos</option>
                        <option value="60">1 hora</option>
                        <option value="90">1h 30min</option>
                        <option value="120">2 horas</option>
                        <option value="180">3 horas</option>
                        <option value="240">4 horas</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="evento-prioridade">Prioridade</label>
                    <select id="evento-prioridade">
                        <option value="baixa">Baixa</option>
                        <option value="media" selected>Média</option>
                        <option value="alta">Alta</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="evento-participantes">Participantes/Contatos</label>
                    <input type="text" id="evento-participantes" placeholder="Ex: João Silva, Maria Santos">
                </div>

                <div class="form-group">
                    <label for="evento-local">Local/Método</label>
                    <input type="text" id="evento-local" placeholder="Ex: Presencial, Zoom, Telefone">
                </div>

                <div class="form-group">
                    <label for="evento-valor">Valor Relacionado (opcional)</label>
                    <input type="number" id="evento-valor" step="0.01" placeholder="0,00">
                </div>

                <div class="form-group">
                    <label for="evento-lembrete">Lembrete</label>
                    <select id="evento-lembrete">
                        <option value="0">No momento</option>
                        <option value="5">5 minutos antes</option>
                        <option value="15" selected>15 minutos antes</option>
                        <option value="30">30 minutos antes</option>
                        <option value="60">1 hora antes</option>
                        <option value="1440">1 dia antes</option>
                        <option value="10080">1 semana antes</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="evento-descricao">Descrição/Observações</label>
                    <textarea id="evento-descricao" rows="3" placeholder="Detalhes do evento, agenda da reunião, etc."></textarea>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="evento-recorrente">
                        Evento recorrente
                    </label>
                </div>

                <div id="recorrencia-options" style="display: none;">
                    <div class="form-group">
                        <label for="evento-frequencia">Frequência</label>
                        <select id="evento-frequencia">
                            <option value="daily">Diário</option>
                            <option value="weekly" selected>Semanal</option>
                            <option value="monthly">Mensal</option>
                            <option value="yearly">Anual</option>
                        </select>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Evento</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Detalhes do Log -->
    <div id="modal-detalhes-log" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>📋 Detalhes do Log</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="log-details-container">
                    <div class="log-details-header">
                        <div class="log-icon" id="modal-log-icon">📝</div>
                        <div class="log-info">
                            <h4 id="modal-log-titulo">Título da Ação</h4>
                            <span class="log-tipo" id="modal-log-tipo">Tipo</span>
                        </div>
                        <div class="log-timestamp">
                            <div id="modal-log-data">00/00/0000</div>
                            <div id="modal-log-hora">00:00:00</div>
                        </div>
                    </div>
                    
                    <div class="log-details-content">
                        <div class="log-section">
                            <h5>📝 Descrição</h5>
                            <p id="modal-log-descricao">Descrição detalhada da ação...</p>
                        </div>
                        
                        <div class="log-section">
                            <h5>👤 Usuário</h5>
                            <p id="modal-log-usuario">Sistema</p>
                        </div>
                        
                        <div class="log-section">
                            <h5>📍 Módulo/Origem</h5>
                            <p id="modal-log-modulo">Dashboard</p>
                        </div>
                        
                        <div class="log-section" id="modal-log-dados-section">
                            <h5>💾 Dados Relacionados</h5>
                            <div class="log-dados" id="modal-log-dados">
                                <!-- Dados em formato JSON estruturado -->
                            </div>
                        </div>
                        
                        <div class="log-section" id="modal-log-ip-section">
                            <h5>🌐 Informações Técnicas</h5>
                            <div class="log-tech-info">
                                <div class="tech-item">
                                    <span>IP Address:</span>
                                    <span id="modal-log-ip">127.0.0.1</span>
                                </div>
                                <div class="tech-item">
                                    <span>ID do Registro:</span>
                                    <span id="modal-log-id">LOG_001</span>
                                </div>
                                <div class="tech-item">
                                    <span>Sessão:</span>
                                    <span id="modal-log-sessao">SES_12345</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="modal-log-fechar">Fechar</button>
                <button class="btn btn-primary" id="modal-log-exportar">📄 Exportar Este Log</button>
            </div>
        </div>
    </div>

    <!-- Modal para nova conta -->
    <div id="modal-nova-conta" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Nova Conta</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="form-nova-conta" class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="conta-descricao">Descrição*</label>
                        <input type="text" id="conta-descricao" required>
                    </div>

                    <div class="form-group">
                        <label for="conta-valor">Valor*</label>
                        <input type="number" id="conta-valor" step="0.01" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="conta-vencimento">Data de Vencimento*</label>
                        <input type="date" id="conta-vencimento" required>
                    </div>

                    <div class="form-group">
                        <label for="conta-categoria">Categoria</label>
                        <select id="conta-categoria">
                            <option value="">Selecione uma categoria</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="conta-fornecedor-cliente">Fornecedor/Cliente</label>
                    <select id="conta-fornecedor-cliente">
                        <option value="">Selecione</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="conta-observacoes">Observações</label>
                    <textarea id="conta-observacoes" rows="3"></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para editar conta -->
    <div id="modal-editar-conta" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="modal-edit-title">Editar Conta</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="form-editar-conta" class="modal-body">
                <!-- Informações Básicas -->
                <div class="form-section">
                    <h4 class="section-title">📋 Informações Básicas</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="edit-descricao">Descrição*</label>
                            <input type="text" id="edit-descricao" required>
                        </div>

                        <div class="form-group">
                            <label for="edit-valor">Valor*</label>
                            <input type="number" id="edit-valor" step="0.01" required>
                        </div>

                        <div class="form-group">
                            <label for="edit-vencimento">Data de Vencimento*</label>
                            <input type="date" id="edit-vencimento" required>
                        </div>

                        <div class="form-group">
                            <label for="edit-categoria">Categoria</label>
                            <select id="edit-categoria">
                                <option value="">Selecione uma categoria</option>
                            </select>
                        </div>

                        <div class="form-group form-group-full">
                            <label for="edit-entidade">Fornecedor/Cliente</label>
                            <select id="edit-entidade">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Observações -->
                <div class="form-section">
                    <h4 class="section-title">📝 Observações</h4>
                    <div class="form-group">
                        <label for="edit-observacoes">Observações Gerais</label>
                        <textarea id="edit-observacoes" rows="2" placeholder="Adicione observações gerais sobre esta conta..."></textarea>
                    </div>
                </div>

                <!-- Comentários e Anexos -->
                <div class="form-section">
                    <h4 class="section-title">💬 Comentários e Anexos</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="edit-comentario">Novo Comentário</label>
                            <textarea id="edit-comentario" rows="3" placeholder="Adicione um comentário específico sobre esta transação..."></textarea>
                            
                            <!-- Lista de comentários existentes -->
                            <div id="comentarios-existentes" class="comentarios-historico">
                                <!-- Comentários carregados dinamicamente -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="edit-arquivo">Anexar Documento</label>
                            <div class="file-upload-area">
                                <input type="file" id="edit-arquivo" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.csv,.xls,.xlsx">
                                <label for="edit-arquivo" class="file-upload-label">
                                    <span class="upload-icon">📎</span>
                                    <span>Clique para anexar arquivo</span>
                                    <small>PDF, DOC, IMG, TXT, CSV, XLS (máx. 10MB)</small>
                                </label>
                            </div>
                            
                            <!-- Lista de anexos existentes -->
                            <div id="anexos-existentes" class="anexos-historico">
                                <!-- Anexos carregados dinamicamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
                    <button type="submit" class="btn btn-primary">💾 Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bibliotecas JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.44.0/dist/apexcharts.min.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.17/index.global.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <script src="script.js"></script>
</body>
</html>